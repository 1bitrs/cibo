os: linux
dist: xenial
language: python
python:
  - "3.7.5"

git:
  submodules: false  # Handle git submodules manually

before_install:
  - sed -i 's/git@github.com:/https:\/\/github.com\//' .gitmodules
  - git submodule update --init --recursive
  - nvm install node
  - npm install -g pyright@1.1.86
  - python -V
  - node -v
  - npm -v
  - pyright --version

before_script:
  - pip install -q  black==20.8b1
  - pip install -q  isort==5.6.4

script: 
  - black -v cibo --check
  - black -v demo --check
  - black -v scripts --check
  - isort --check "cibo/" "demo/" "scripts/"
  - pyright

